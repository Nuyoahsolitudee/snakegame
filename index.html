<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘¨ä¹Ÿçš„è´ªåƒè›‡ - äº‘ç«¯ç‰ˆ</title>
    <style>
        /* æ ·å¼ä¿æŒä¸å˜ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; background: linear-gradient(135deg, #ffb3d9 0%, #ff99cc 50%, #ffccee 100%); font-family: 'Comic Sans MS', 'Arial', sans-serif; position: relative; overflow: hidden; }
        body::before { content: 'ğŸ€'; position: absolute; font-size: 80px; opacity: 0.2; top: 10%; left: 10%; animation: float 6s ease-in-out infinite; }
        body::after { content: 'ğŸ€'; position: absolute; font-size: 60px; opacity: 0.2; bottom: 15%; right: 15%; animation: float 8s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        .hearts { position: absolute; font-size: 40px; opacity: 0.15; }
        .heart1 { top: 20%; right: 20%; animation: pulse 3s infinite; }
        .heart2 { bottom: 25%; left: 15%; animation: pulse 4s infinite; }
        .heart3 { top: 60%; right: 10%; animation: pulse 3.5s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        .container { text-align: center; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 15px 50px rgba(255, 105, 180, 0.4); border: 5px solid #ff69b4; position: relative; z-index: 1; }
        h1 { color: #ff1493; margin-bottom: 20px; font-size: 32px; text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3); display: flex; align-items: center; justify-content: center; gap: 10px; }
        .kitty-face { font-size: 50px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .score-board { display: flex; justify-content: space-around; margin-bottom: 20px; gap: 15px; }
        .score-item { padding: 12px 25px; background: linear-gradient(135deg, #ffccee 0%, #ffb3d9 100%); border-radius: 20px; border: 3px solid #ff69b4; font-size: 18px; color: #ff1493; font-weight: bold; box-shadow: 0 4px 10px rgba(255, 105, 180, 0.2); }
        canvas { border: 5px solid #ff69b4; border-radius: 20px; background: #fff0f5; display: block; margin: 0 auto; box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3); }
        .controls { margin-top: 20px; color: #ff1493; font-size: 14px; line-height: 1.8; }
        .game-status { margin-top: 15px; font-size: 16px; color: #ff1493; font-weight: bold; min-height: 24px; }
        .btn { padding: 10px 25px; font-size: 16px; background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%); color: white; border: none; border-radius: 20px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3); transition: all 0.3s; margin: 5px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(255, 105, 180, 0.5); }
        .btn-secondary { background: linear-gradient(135deg, #ffb3d9 0%, #ff99cc 100%); }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 182, 193, 0.85); z-index: 999; }
        .modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 30px; box-shadow: 0 15px 60px rgba(255, 105, 180, 0.5); z-index: 1000; border: 5px solid #ff69b4; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translate(-50%, -40%); } to { opacity: 1; transform: translate(-50%, -50%); } }
        .game-over-modal { text-align: center; min-width: 320px; }
        .score-display { font-size: 48px; color: #ff69b4; margin: 20px 0; font-weight: bold; }
        .leaderboard-modal { max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto; }
        .leaderboard-list { list-style: none; padding: 0; margin-bottom: 20px; }
        .leaderboard-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; margin-bottom: 10px; background: linear-gradient(135deg, #fff0f5 0%, #ffe4f0 100%); border-radius: 15px; border: 2px solid #ffb3d9; }
        .leaderboard-item.rank-1 { background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); border-color: #ffa500; }
        .player-rank { font-size: 24px; font-weight: bold; color: #ff1493; min-width: 40px; }
        .player-info { flex: 1; margin-left: 15px; text-align: left; }
        .player-name { font-size: 18px; font-weight: bold; color: #333; }
        .player-date { font-size: 11px; color: #999; }
        .player-score { font-size: 20px; font-weight: bold; color: #ff1493; }
        .name-input-modal { text-align: center; min-width: 350px; }
        .name-input-modal input { width: 100%; padding: 15px; font-size: 18px; border: 3px solid #ff69b4; border-radius: 15px; margin: 20px 0; text-align: center; outline: none; }
        .start-hint { color: #ff69b4; font-size: 18px; margin-top: 15px; animation: blink 2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .button-group { display: flex; gap: 10px; justify-content: center; margin-top: 20px; flex-wrap: wrap; }
    </style>
</head>
<body>
    <div class="hearts heart1">ğŸ’–</div><div class="hearts heart2">ğŸ’</div><div class="hearts heart3">ğŸ’•</div>

    <div class="container">
        <h1><span class="kitty-face">ğŸ’–</span>å‘¨ä¹Ÿçš„è´ªåƒè›‡<span class="kitty-face">ğŸ’–</span></h1>
        <div class="score-board">
            <div class="score-item">ğŸŒ¸ å½“å‰å¾—åˆ†ï¼š<span id="score">0</span></div>
            <div class="score-item">â­ æœ€é«˜åˆ†ï¼š<span id="highScore">0</span></div>
        </div>
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        <div class="game-status" id="gameStatus"><span class="start-hint">æŒ‰æ–¹å‘é”®å¼€å§‹æ¸¸æˆ â†’</span></div>
        <div class="button-group">
            <button class="btn" onclick="togglePause()">â¸ï¸ æš‚åœ/ç»§ç»­</button>
            <button class="btn btn-secondary" onclick="showLeaderboard()">ğŸ† æ’è¡Œæ¦œ</button>
            <button class="btn btn-secondary" onclick="restartGame()">ğŸ”„ é‡æ–°å¼€å§‹</button>
        </div>
        <div class="controls">
            <p>ğŸ® æ–¹å‘é”® â†‘ â†“ â† â†’ æ§åˆ¶ç§»åŠ¨ | ğŸ“ åƒè‰è“å¾—åˆ†</p>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="modal game-over-modal" id="gameOverModal">
        <div class="cute-emoji">ğŸ˜¿</div>
        <h2>æ¸¸æˆç»“æŸ</h2>
        <div class="score-display" id="finalScore">0</div>
        <div class="message" id="gameOverMessage">å†æ¥å†å‰å“¦ï¼</div>
        <div class="button-group">
            <button class="btn" onclick="restartGame()">ğŸŒŸ å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <div class="modal name-input-modal" id="nameInputModal">
        <div class="congrats">ğŸ‰</div>
        <h3>æ­å–œè¿›å…¥æ’è¡Œæ¦œï¼</h3>
        <p>å¾—åˆ†ï¼š<strong id="scoreForName">0</strong></p>
        <input type="text" id="playerNameInput" placeholder="è¾“å…¥ä½ çš„åå­—" maxlength="10">
        <div class="button-group">
            <button class="btn" onclick="submitScore()">âœ¨ æäº¤</button>
            <button class="btn btn-secondary" onclick="skipScore()">è·³è¿‡</button>
        </div>
    </div>

    <div class="modal leaderboard-modal" id="leaderboardModal">
        <h2>ğŸ† å…¨çƒæ’è¡Œæ¦œ ğŸ†</h2>
        <ul class="leaderboard-list" id="leaderboardList">
            <li class="empty-leaderboard">åŠ è½½ä¸­...</li>
        </ul>
        <div class="button-group">
            <button class="btn" onclick="closeAllModals()">å…³é—­</button>
        </div>
    </div>

    <script